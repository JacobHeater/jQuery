(function(e){e.fn.Shadowmation=function(t){function i(e,t,n,i){return e===r.endX&&t===r.endY&&n===r.endBlur&&i===r.endSpread}function s(e,t,n,i){return e===r.defaultX&&t===r.defaultY&&n===r.defaultBlur&&i===r.defaultSpread}function o(e,t,n,i,s){var o=r.isInset?"inset":"";return e+"px "+t+"px "+n+"px "+i+"px "+s+" "+o}var n=this;var r=e.extend({defaultX:0,defaultY:0,endX:15,endY:15,defaultBlur:0,endBlur:15,defaultSpread:0,endSpread:0,forwardColor:"black",backwardColor:"black",speed:1,isInset:false,trigger:"mouseover",forwardOnly:false},typeof t==="object"?t:{});r.speed=r.speed>10?10:r.speed;r.speed=r.speed<1?1:r.speed;var u;var a;var f=false;var l=false;var c=r.defaultX;var h=r.defaultY;var p=r.defaultBlur;var d=r.defaultSpread;this.on(r.trigger,function(){window.clearInterval(a);f=i(c,h,p,d);u=setInterval(function(){f=i(c,h,p,d);if(f)window.clearInterval(u);c=c<r.endX?c+r.speed:c;h=h<r.endY?h+r.speed:h;p=p<r.endBlur?p+r.speed:p;d=d<r.endSpread?d+r.speed:d;var e=o(c,h,p,d,r.forwardColor);n.css({"box-shadow":e,"-webkit-box-shadow":e,"-moz-box-shadow":e})},10);if(f)window.clearInterval(u)}).on(r.trigger==="mouseover"?"mouseleave":"mouseup",function(){window.clearInterval(u);if(!r.forwardOnly){l=s(c,h,p,d);a=setInterval(function(){l=s(c,h,p,d);if(l)window.clearInterval(a);c=c>r.defaultX?c-r.speed:c;h=h>r.defaultY?h-r.speed:h;p=p>r.defaultBlur?p-r.speed:p;d=d>r.defaultSpread?d-r.speed:d;var e=o(c,h,p,d,r.backwardColor);n.css({"box-shadow":e,"-webkit-box-shadow":e,"-moz-box-shadow":e})},10)}})}})(jQuery)